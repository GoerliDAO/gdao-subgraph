type DailyBond @entity {
  id: ID!
  timestamp: BigInt!
  token: Token!
  amount: BigDecimal!
  value: BigDecimal!
}

type Rebase @entity {
  id: ID!
  amount: BigDecimal!
  stakedOhms: BigDecimal!
  percentage: BigDecimal!
  contract: String!
  timestamp: BigInt!
  value: BigDecimal!
}

type DailyStakingReward @entity {
  id: ID!
  timestamp: BigInt!
  amount: BigDecimal!
  value: BigDecimal!
}

type Token @entity {
  id: ID!
}

type ProtocolMetric @entity {
  id: ID!
  block: BigInt!
  currentAPY: BigDecimal!
  currentIndex: BigDecimal!
  gOhmPrice: BigDecimal!
  gOhmTotalSupply: BigDecimal!
  marketCap: BigDecimal!
  nextDistributedOhm: BigDecimal!
  nextEpochRebase: BigDecimal!
  ohmCirculatingSupply: BigDecimal!
  ohmCirculatingSupplyBreakdown: TokenRecordsWrapper!
  ohmFloatingSupply: BigDecimal!
  ohmFloatingSupplyBreakdown: TokenRecordsWrapper!
  ohmPrice: BigDecimal!
  runway100k: BigDecimal
  runway10k: BigDecimal
  runway20k: BigDecimal
  runway2dot5k: BigDecimal
  runway50k: BigDecimal
  runway5k: BigDecimal
  runway70k: BigDecimal
  runway7dot5k: BigDecimal
  runwayCurrent: BigDecimal
  sOhmCirculatingSupply: BigDecimal!
  timestamp: BigInt!
  timestampISO8901: String!
  totalSupply: BigDecimal!
  totalValueLocked: BigDecimal!
  treasuryCVXMarketValue: BigDecimal!
  treasuryCVXMarketValueComponents: TokenRecordsWrapper!
  treasuryDaiMarketValue: BigDecimal!
  treasuryDaiMarketValueComponents: TokenRecordsWrapper!
  treasuryDaiRiskFreeValue: BigDecimal!
  treasuryDaiRiskFreeValueComponents: TokenRecordsWrapper!
  treasuryFeiMarketValue: BigDecimal!
  treasuryFeiMarketValueComponents: TokenRecordsWrapper!
  treasuryFeiRiskFreeValue: BigDecimal!
  treasuryFeiRiskFreeValueComponents: TokenRecordsWrapper!
  treasuryFraxMarketValue: BigDecimal!
  treasuryFraxMarketValueComponents: TokenRecordsWrapper!
  treasuryFraxRiskFreeValue: BigDecimal!
  treasuryFraxRiskFreeValueComponents: TokenRecordsWrapper!
  treasuryFXSMarketValue: BigDecimal!
  treasuryFXSMarketValueComponents: TokenRecordsWrapper!
  treasuryLiquidBacking: BigDecimal!
  treasuryLiquidBackingComponents: TokenRecordsWrapper!
  treasuryLiquidBackingPerGOhm: BigDecimal!
  treasuryLiquidBackingPerOhmCirculating: BigDecimal!
  treasuryLiquidBackingPerOhmFloating: BigDecimal!
  treasuryLiquidBackingProtocolOwnedLiquidity: BigDecimal!
  treasuryLiquidBackingProtocolOwnedLiquidityComponents: TokenRecordsWrapper!
  treasuryLiquidBackingStable: BigDecimal!
  treasuryLiquidBackingStableComponents: TokenRecordsWrapper!
  treasuryLiquidBackingVolatile: BigDecimal!
  treasuryLiquidBackingVolatileComponents: TokenRecordsWrapper!
  treasuryLPValue: BigDecimal!
  treasuryLPValueComponents: TokenRecordsWrapper!
  treasuryLusdMarketValue: BigDecimal!
  treasuryLusdMarketValueComponents: TokenRecordsWrapper!
  treasuryLusdRiskFreeValue: BigDecimal!
  treasuryLusdRiskFreeValueComponents: TokenRecordsWrapper!
  treasuryMarketValue: BigDecimal!
  treasuryMarketValueComponents: TokenRecordsWrapper!
  treasuryOhmDaiPOL: BigDecimal!
  treasuryOhmEthPOL: BigDecimal!
  treasuryOhmFraxPOL: BigDecimal!
  treasuryOhmLusdPOL: BigDecimal!
  treasuryOtherMarketValue: BigDecimal!
  treasuryOtherMarketValueComponents: TokenRecordsWrapper!
  treasuryProtocolOwnedLiquidityBacking: BigDecimal!
  treasuryProtocolOwnedLiquidityBackingComponents: TokenRecordsWrapper!
  treasuryRiskFreeValue: BigDecimal!
  treasuryRiskFreeValueComponents: TokenRecordsWrapper!
  treasuryStableBacking: BigDecimal!
  treasuryStableBackingComponents: TokenRecordsWrapper!
  treasuryStableValue: BigDecimal!
  treasuryStableValueComponents: TokenRecordsWrapper!
  treasuryTotalBacking: BigDecimal!
  treasuryTotalBackingComponents: TokenRecordsWrapper!
  treasuryUstMarketValue: BigDecimal!
  treasuryUstMarketValueComponents: TokenRecordsWrapper!
  treasuryVolatileBacking: BigDecimal!
  treasuryVolatileBackingComponents: TokenRecordsWrapper!
  treasuryVolatileValue: BigDecimal!
  treasuryVolatileValueComponents: TokenRecordsWrapper!
  treasuryWBTCMarketValue: BigDecimal!
  treasuryWBTCMarketValueComponents: TokenRecordsWrapper!
  treasuryWETHMarketValue: BigDecimal!
  treasuryWETHMarketValueComponents: TokenRecordsWrapper!
  treasuryWETHRiskFreeValue: BigDecimal!
  treasuryWETHRiskFreeValueComponents: TokenRecordsWrapper!
  treasuryXsushiMarketValue: BigDecimal!
  treasuryXsushiMarketValueComponents: TokenRecordsWrapper!
}

type BondDiscount @entity {
  id: ID!
  timestamp: BigInt!
  dai_discount: BigDecimal!
  ohmdai_discount: BigDecimal!
  frax_discount: BigDecimal!
  ohmfrax_discount: BigDecimal!
  eth_discount: BigDecimal!
  lusd_discount: BigDecimal!
  ohmlusd_discount: BigDecimal!
}

type TokenRecord @entity(immutable: true) {
  id: ID!
  block: BigInt!
  # timestampISO8901: String!
  token: String!
  tokenAddress: String!
  source: String!
  sourceAddress: String!
  rate: BigDecimal!
  balance: BigDecimal!
  multiplier: BigDecimal!
  value: BigDecimal! # Calculated
  # TODO Add token category, etc
}

type TokenRecordsWrapper @entity {
  id: ID!
  records: [TokenRecord!]!
  balance: BigDecimal! # Calculated
  value: BigDecimal! # Calculated
}
